{"ast":null,"code":"import _slicedToArray from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useEffect,useState}from\"react\";import{Layout,Button}from\"antd\";import styles from\"../css/MyPage.module.css\";import axios from\"axios\";import{useCookies}from\"react-cookie\";import ModifyUserInfo from\"../components/ModifyUserInfo.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=Layout.Header;var MyPage=function MyPage(){var _useCookies=useCookies([\"x_auth\"]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setcookie=_useCookies2[1],removecookie=_useCookies2[2];var _useState=useState(null),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];useEffect(function(){axios.get(\"/application/userInfo\").then(function(response){if(response.data.success){setUserInfo(response.data.data);}else{console.log(\"error\");}}).catch(function(error){console.error(error);});},[]);// []은 의존성 배열입니다. 이 배열이 비어있으면 컴포넌트가 처음 마운트될 때 한 번만 실행됩니다.\nvar logoutURL=\"/signin\";// 리다이렉트할 URL 을 상수화시켜서 넣어주었다.\n//로그아웃\nvar handleLogout=function handleLogout(){// 로그아웃 버튼을 누르면 실행되는 함수\nremovecookie(\"x_auth\");// 쿠키삭제후\nwindow.location.href=logoutURL;// 현재url을 변경해준다.\n};return/*#__PURE__*/_jsxs(Layout,{children:[/*#__PURE__*/_jsxs(Header,{className:styles.header,children:[/*#__PURE__*/_jsx(\"img\",{src:\"logo.png\",alt:\"logo\",className:styles.logo}),/*#__PURE__*/_jsxs(\"div\",{className:styles.headerRight,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.headerRightTopRight,children:[/*#__PURE__*/_jsxs(\"span\",{className:styles.headerRightTopRightText,children:[userInfo&&userInfo.name,\"\\uB2D8\"]}),/*#__PURE__*/_jsx(\"span\",{className:styles.headerRightTopRightText,children:userInfo&&userInfo.major})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerRightTopRight,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",className:styles.headerRightTopRightButton,onClick:handleLogout,children:\"\\uB85C\\uADF8\\uC544\\uC6C3\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.headerRightBottom,children:/*#__PURE__*/_jsx(Button,{type:\"primary\",className:styles.headerRightTopRightButton,onClick:function onClick(){window.location.href=\"/application\";},children:\"\\uD76C\\uB9DD\\uAC15\\uC758\\uC2E0\\uCCAD\"})})]}),/*#__PURE__*/_jsx(ModifyUserInfo,{})]});};export default MyPage;","map":{"version":3,"names":["React","useEffect","useState","Layout","Button","styles","axios","useCookies","ModifyUserInfo","jsx","_jsx","jsxs","_jsxs","Header","MyPage","_useCookies","_useCookies2","_slicedToArray","cookies","setcookie","removecookie","_useState","_useState2","userInfo","setUserInfo","get","then","response","data","success","console","log","catch","error","logoutURL","handleLogout","window","location","href","children","className","header","src","alt","logo","headerRight","headerRightTopRight","headerRightTopRightText","name","major","type","headerRightTopRightButton","onClick","headerRightBottom"],"sources":["C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/src/pages/MyPage.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport { Layout, Button } from \"antd\";\r\n\r\nimport styles from \"../css/MyPage.module.css\";\r\nimport axios from \"axios\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport ModifyUserInfo from \"../components/ModifyUserInfo.js\";\r\n\r\nconst { Header } = Layout;\r\n\r\nconst MyPage = () => {\r\n  const [cookies, setcookie, removecookie] = useCookies([\"x_auth\"]);\r\n\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/application/userInfo\")\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setUserInfo(response.data.data);\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, []); // []은 의존성 배열입니다. 이 배열이 비어있으면 컴포넌트가 처음 마운트될 때 한 번만 실행됩니다.\r\n\r\n  const logoutURL = \"/signin\"; // 리다이렉트할 URL 을 상수화시켜서 넣어주었다.\r\n\r\n  //로그아웃\r\n  const handleLogout = () => {\r\n    // 로그아웃 버튼을 누르면 실행되는 함수\r\n    removecookie(\"x_auth\"); // 쿠키삭제후\r\n    window.location.href = logoutURL; // 현재url을 변경해준다.\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Header className={styles.header}>\r\n        <img src=\"logo.png\" alt=\"logo\" className={styles.logo} />\r\n\r\n        <div className={styles.headerRight}>\r\n          <div className={styles.headerRightTopRight}>\r\n            <span className={styles.headerRightTopRightText}>\r\n              {userInfo && userInfo.name}님\r\n            </span>\r\n            <span className={styles.headerRightTopRightText}>\r\n              {userInfo && userInfo.major}\r\n            </span>\r\n          </div>\r\n          <div className={styles.headerRightTopRight}>\r\n            <Button\r\n              type=\"primary\"\r\n              className={styles.headerRightTopRightButton}\r\n              onClick={handleLogout}\r\n            >\r\n              로그아웃\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        <div className={styles.headerRightBottom}>\r\n          <Button\r\n            type=\"primary\"\r\n            className={styles.headerRightTopRightButton}\r\n            onClick={() => {\r\n              window.location.href = \"/application\";\r\n            }}\r\n          >\r\n            희망강의신청\r\n          </Button>\r\n        </div>\r\n      </Header>\r\n      <ModifyUserInfo />\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default MyPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}