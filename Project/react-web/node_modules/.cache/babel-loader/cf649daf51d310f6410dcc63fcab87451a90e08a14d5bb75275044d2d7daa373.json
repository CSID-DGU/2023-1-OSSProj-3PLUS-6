{"ast":null,"code":"import _defineProperty from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{React,useEffect,useState}from\"react\";import styled from\"styled-components\";import{Input,PasswordInput}from\"../components/common/Input\";import SelectInput from\"../components/signup/Select\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModifyContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin: 10vh auto;\\n  padding: 30px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  width: 50vw;\\n\"])));var ModifyTitle=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 10px 20px;\\n  font-size: 1vw;\\n  font-weight: 600;\\n\"])));var ModifyForm=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  display: flex;\\n  flex-direction: column;\\n\"])));var ModifyButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 5px 10px;\\n  background-color: #d54728;\\n  color: white;\\n  cursor: pointer;\\n\"])));var ModifyUserInfo=function ModifyUserInfo(){useEffect(function(){axios.get(\"/application/userInfo\").then(function(response){if(response.data.success){setUserInfo(response.data.data);}else{console.log(\"error\");}}).catch(function(error){console.error(error);});},[]);var _useState=useState({name:\"\",studentNum:\"\",email:\"\",password:\"\",major:\"\",grade:\"\"}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserInfo(_objectSpread(_objectSpread({},userInfo),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();// 서버로 회원정보 수정 요청 보내기\nvar data={name:userInfo.name,studentNum:userInfo.studentNum,email:userInfo.email,password:userInfo.password,major:userInfo.major,grade:userInfo.grade};axios.put(\"/mypage/userInfo\",userInfo).then(function(res){}).catch(function(err){console.error(err);});};return/*#__PURE__*/_jsxs(ModifyContainer,{children:[/*#__PURE__*/_jsx(ModifyTitle,{children:\"\\uD68C\\uC6D0\\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(ModifyForm,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{name:\"name\",placeholder:userInfo.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{name:\"studentNum\",placeholder:userInfo.studentNum,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{name:\"email\",type:\"email\",placeholder:userInfo.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(PasswordInput,{name:\"password\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(SelectInput,{name:\"major\",handleChange:handleChange,options:[{value:\"null\",label:userInfo.major},{value:\"건설환경공학과\",label:\"건설환경공학과\"},{value:\"교육학과\",label:\"교육학과\"},{value:\"통계학과\",label:\"통계학과\"},{value:\"융합소프트웨어학과\",label:\"융합소프트웨어\"},{value:\"데이터사이언스\",label:\"데이터사이언스\"}]}),/*#__PURE__*/_jsx(SelectInput,{name:\"grade\",handleChange:handleChange,options:[{value:\"null\",label:userInfo.grade},{value:\"1\",label:\"1\"},{value:\"2\",label:\"2\"},{value:\"3\",label:\"3\"},{value:\"4\",label:\"4\"}]}),/*#__PURE__*/_jsx(ModifyButton,{type:\"submit\",onClick:handleSubmit,children:\"\\uC218\\uC815\"})]})]});};export default ModifyUserInfo;","map":{"version":3,"names":["React","useEffect","useState","styled","Input","PasswordInput","SelectInput","axios","jsx","_jsx","jsxs","_jsxs","ModifyContainer","div","_templateObject","_taggedTemplateLiteral","ModifyTitle","h2","_templateObject2","ModifyForm","form","_templateObject3","ModifyButton","button","_templateObject4","ModifyUserInfo","get","then","response","data","success","setUserInfo","console","log","catch","error","_useState","name","studentNum","email","password","major","grade","_useState2","_slicedToArray","userInfo","handleChange","e","_e$target","target","value","_objectSpread","_defineProperty","handleSubmit","preventDefault","put","res","err","children","onSubmit","placeholder","onChange","required","type","options","label","onClick"],"sources":["C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/src/components/ModifyUserInfo.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Input, PasswordInput } from \"../components/common/Input\";\r\nimport SelectInput from \"../components/signup/Select\";\r\nimport axios from \"axios\";\r\n\r\nconst ModifyContainer = styled.div`\r\n  margin: 10vh auto;\r\n  padding: 30px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  width: 50vw;\r\n`;\r\n\r\nconst ModifyTitle = styled.h2`\r\n  padding: 10px 20px;\r\n  font-size: 1vw;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst ModifyForm = styled.form`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst ModifyButton = styled.button`\r\n  padding: 5px 10px;\r\n  background-color: #d54728;\r\n  color: white;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ModifyUserInfo = () => {\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/application/userInfo\")\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setUserInfo(response.data.data);\r\n        } else {\r\n          console.log(\"error\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n      });\r\n  }, []);\r\n\r\n  const [userInfo, setUserInfo] = useState({\r\n    name: \"\",\r\n    studentNum: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    major: \"\",\r\n    grade: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserInfo({ ...userInfo, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // 서버로 회원정보 수정 요청 보내기\r\n    const data = {\r\n      name: userInfo.name,\r\n      studentNum: userInfo.studentNum,\r\n      email: userInfo.email,\r\n      password: userInfo.password,\r\n      major: userInfo.major,\r\n      grade: userInfo.grade,\r\n    };\r\n    axios\r\n      .put(\"/mypage/userInfo\", userInfo)\r\n      .then((res) => {})\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <ModifyContainer>\r\n      <ModifyTitle>회원정보</ModifyTitle>\r\n      <ModifyForm onSubmit={handleSubmit}>\r\n        <Input\r\n          name=\"name\"\r\n          placeholder={userInfo.name}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Input\r\n          name=\"studentNum\"\r\n          placeholder={userInfo.studentNum}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <Input\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder={userInfo.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <PasswordInput\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"비밀번호\"\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <SelectInput\r\n          name=\"major\"\r\n          handleChange={handleChange}\r\n          options={[\r\n            { value: \"null\", label: userInfo.major },\r\n            { value: \"건설환경공학과\", label: \"건설환경공학과\" },\r\n            { value: \"교육학과\", label: \"교육학과\" },\r\n            { value: \"통계학과\", label: \"통계학과\" },\r\n            { value: \"융합소프트웨어학과\", label: \"융합소프트웨어\" },\r\n            { value: \"데이터사이언스\", label: \"데이터사이언스\" },\r\n          ]}\r\n        />\r\n        <SelectInput\r\n          name=\"grade\"\r\n          handleChange={handleChange}\r\n          options={[\r\n            { value: \"null\", label: userInfo.grade },\r\n            { value: \"1\", label: \"1\" },\r\n            { value: \"2\", label: \"2\" },\r\n            { value: \"3\", label: \"3\" },\r\n            { value: \"4\", label: \"4\" },\r\n          ]}\r\n        />\r\n\r\n        <ModifyButton type=\"submit\" onClick={handleSubmit}>\r\n          수정\r\n        </ModifyButton>\r\n      </ModifyForm>\r\n    </ModifyContainer>\r\n  );\r\n};\r\n\r\nexport default ModifyUserInfo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}