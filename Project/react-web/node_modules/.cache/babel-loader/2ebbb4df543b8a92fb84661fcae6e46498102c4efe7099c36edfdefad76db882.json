{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import styled from\"styled-components\";import{Input,PasswordInput}from\"../components/common/Input\";import Form from\"../components/common/Form\";import Logo from\"../components/common/Logo\";import StyledModal from\"../components/common/Modal\";import Button from\"../components/common/Button\";import TextComponent from\"../components/common/TextComponent\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalVisible=_useState2[0],setModalVisible=_useState2[1];var navigate=useNavigate();var handleSubmit=function handleSubmit(event){event.preventDefault();var data=new FormData(event.currentTarget);var userInfo={studentNum:data.get(\"studentNum\"),password:data.get(\"password\")};axios.post(\"/signin\",userInfo).then(function(res){if(res.data.loginSuccess===false){setModalVisible(true);}if(res.data.loginSuccess===true){navigate(\"/application\");}}).catch(function(err){console.error(err);});};var handleOk=function handleOk(){setModalVisible(false);navigate(\"/signin\");};var handleCloseModal=function handleCloseModal(){setModalVisible(false);};return/*#__PURE__*/_jsxs(SignInContainer,{children:[/*#__PURE__*/_jsx(Logo,{src:\"/loginLogo.png\",alt:\"loginLogo\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Input,{required:true,placeholder:\"\\uD559\\uBC88\",name:\"studentNum\"}),/*#__PURE__*/_jsx(PasswordInput,{required:true,placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",name:\"password\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"LOGIN\"}),/*#__PURE__*/_jsx(TextComponent,{text:\"\\uC544\\uC9C1 \\uACC4\\uC815\\uC774 \\uC5C6\\uC73C\\uC2E0\\uAC00\\uC694?\",linkText:\"\\uD68C\\uC6D0\\uAC00\\uC785\",linkTo:\"/signup\"})]}),/*#__PURE__*/_jsx(StyledModal,{isOpen:modalVisible,handleClose:handleCloseModal,message:\"\\uC544\\uC774\\uB514\\uC640 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694\",handleOk:handleOk})]});};var SignInContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin-top: 8rem;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"])));export default SignIn;","map":{"version":3,"names":["React","useState","useNavigate","axios","styled","Input","PasswordInput","Form","Logo","StyledModal","Button","TextComponent","jsx","_jsx","jsxs","_jsxs","SignIn","_useState","_useState2","_slicedToArray","modalVisible","setModalVisible","navigate","handleSubmit","event","preventDefault","data","FormData","currentTarget","userInfo","studentNum","get","password","post","then","res","loginSuccess","catch","err","console","error","handleOk","handleCloseModal","SignInContainer","children","src","alt","onSubmit","required","placeholder","name","type","text","linkText","linkTo","isOpen","handleClose","message","div","_templateObject","_taggedTemplateLiteral"],"sources":["C:/Users/yoons/Desktop/OSSPj/2023-1-OSSProj-3PLUS-6/Project/react-web/src/pages/SignIn.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nimport styled from \"styled-components\";\r\n\r\nimport { Input, PasswordInput } from \"../components/common/Input\";\r\nimport Form from \"../components/common/Form\";\r\nimport Logo from \"../components/common/Logo\";\r\nimport StyledModal from \"../components/common/Modal\";\r\nimport Button from \"../components/common/Button\";\r\nimport TextComponent from \"../components/common/TextComponent\";\r\n\r\nconst SignIn = () => {\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const data = new FormData(event.currentTarget);\r\n    const userInfo = {\r\n      studentNum: data.get(\"studentNum\"),\r\n      password: data.get(\"password\"),\r\n    };\r\n    axios\r\n      .post(\"/signin\", userInfo)\r\n      .then((res) => {\r\n        if (res.data.loginSuccess === false) {\r\n          setModalVisible(true);\r\n        }\r\n        if (res.data.loginSuccess === true) {\r\n          navigate(\"/application\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setModalVisible(false);\r\n    navigate(\"/signin\");\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setModalVisible(false);\r\n  };\r\n\r\n  return (\r\n    <SignInContainer>\r\n      <Logo src=\"/loginLogo.png\" alt=\"loginLogo\" />\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        <Input required placeholder=\"학번\" name=\"studentNum\" />\r\n        <PasswordInput required placeholder=\"비밀번호\" name=\"password\" />\r\n        <Button type=\"submit\">LOGIN</Button>\r\n        <TextComponent\r\n          text=\"아직 계정이 없으신가요?\"\r\n          linkText=\"회원가입\"\r\n          linkTo=\"/signup\"\r\n        />\r\n      </Form>\r\n\r\n      <StyledModal\r\n        isOpen={modalVisible}\r\n        handleClose={handleCloseModal}\r\n        message=\"아이디와 비밀번호를 확인해주세요\"\r\n        handleOk={handleOk}\r\n      />\r\n    </SignInContainer>\r\n  );\r\n};\r\n\r\nconst SignInContainer = styled.div`\r\n  margin-top: 8rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport default SignIn;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}